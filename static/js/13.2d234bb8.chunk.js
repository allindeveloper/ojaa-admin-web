(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1570:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(63),i=(a(1384),a(357)),o=a(1559),c=a(1326),l=a(1396),m=a(1403),p=a(1398),g=a(1517),h=a.n(g),u=a(1518),d=a.n(u),E=a(1516),b=a.n(E),P=a(1389),f=a(9),O=a(7),v=a(256),N=a(1332),C=a(1330);Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=a.length;return function(s){if("function"!==typeof s&&("object"!==typeof s||null===s))throw new TypeError("Object.keys called on non-object");var n,i,o=[];for(n in s)e.call(s,n)&&o.push(n);if(t)for(i=0;i<r;i++)e.call(s,a[i])&&o.push(a[i]);return o}}());const x=e=>{const t=e.classes;return s.a.createElement(s.a.Fragment,null,e.rows.length>0?s.a.createElement(s.a.Fragment,null,e.rows.map((a,r)=>s.a.createElement("div",{key:r},s.a.createElement(v.a,{component:"div",className:t.paper},s.a.createElement(N.a,{container:!0,spacing:3},s.a.createElement(N.a,{item:!0,xs:12,sm:6},s.a.createElement(N.a,{container:!0,spacing:3},s.a.createElement(N.a,{item:!0,xs:12,sm:6},"Order Number"),s.a.createElement(N.a,{item:!0,xs:12,sm:6,className:t.OrderNumber},a.OrderNumber)),s.a.createElement(N.a,{container:!0,spacing:3},s.a.createElement(N.a,{item:!0,xs:12,sm:6},"Order Time"),s.a.createElement(N.a,{item:!0,xs:12,sm:6},a.OrderTime)),s.a.createElement(N.a,{container:!0,spacing:3},s.a.createElement(N.a,{item:!0,xs:12,sm:6},"Expected Delivery Time"),s.a.createElement(N.a,{item:!0,xs:12,sm:6},a.ExpectedDeliveryTime)),s.a.createElement("br",null),s.a.createElement(N.a,{container:!0,spacing:3},s.a.createElement(N.a,{item:!0,xs:12,sm:6},"Item Review"),s.a.createElement(N.a,{item:!0,xs:12,sm:6},a.ItemReviewCount," ITEMS"))),s.a.createElement(N.a,{item:!0,xs:12,sm:6},s.a.createElement("label",null,"Billing Details"),s.a.createElement("hr",null),s.a.createElement(N.a,{container:!0,spacing:3},s.a.createElement(N.a,{item:!0,xs:12,sm:6},"Status"),s.a.createElement(N.a,{item:!0,xs:12,sm:6},"Guest")),s.a.createElement(N.a,{container:!0,spacing:3},s.a.createElement(N.a,{item:!0,xs:12,sm:6},"Name"),s.a.createElement(N.a,{item:!0,xs:12,sm:6},"Olamide Baba nla")),s.a.createElement(N.a,{container:!0,spacing:3},s.a.createElement(N.a,{item:!0,xs:12,sm:6},"Billing Address"),s.a.createElement(N.a,{item:!0,xs:12,sm:6},"No 23, Olarokun Street.\vOff Ajoke Lewis. Amuwo Odofin Lagos State")),s.a.createElement(N.a,{container:!0,spacing:3},s.a.createElement(N.a,{item:!0,xs:12,sm:6},"Phone"),s.a.createElement(N.a,{item:!0,xs:12,sm:6},"+234 803 675 0000")),s.a.createElement(N.a,{container:!0,spacing:3},s.a.createElement(N.a,{item:!0,xs:12,sm:6},"Total"),s.a.createElement(N.a,{item:!0,xs:12,sm:6},"N 10000")),s.a.createElement(N.a,{container:!0,spacing:3},s.a.createElement(N.a,{item:!0,xs:12,sm:6},"Paid"),s.a.createElement(N.a,{item:!0,xs:12,sm:6,className:t.Paid},"N 10000")),s.a.createElement(N.a,{container:!0,spacing:3},s.a.createElement(N.a,{item:!0,xs:12,sm:6},"Via Paystack"),s.a.createElement(N.a,{item:!0,xs:12,sm:6})),s.a.createElement("br",null),s.a.createElement(N.a,{container:!0,justify:"center"},s.a.createElement(C.a,{variant:"contained",className:Object(O.default)(t.confirmButton),type:"submit",onClick:e.confirmItem.bind(void 0,a)},"CONFIRM"))))),s.a.createElement("br",null)," \xa0 \xa0"))):s.a.createElement("p",null,"No record found"))};var w=a(8),S=a(100),y=a.n(S);Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var I=class extends s.a.Component{constructor(e){super(e),this.sortFunc=this.sortFunc.bind(this),this.state={pager:{},totalPages:this.props.totalPages,totalItems:this.props.totalItems,pageSize:10,searching:!1,searchData:{}}}componentWillMount(){""!==this.props.searchData&&this.setPage(1)}componentDidUpdate(e,t){y.a.isEqual(this.props.searchData,this.state.searchData)||this.setPage(1)}sortFunc(e){return e.sort((e,t)=>{if(void 0===e.Name)return 0;var a=e.Name.toUpperCase(),r=t.Name.toUpperCase();return a<r?-1:a>r?1:0})}setPage(e){if(!0!==this.state.searching&&!(e>1&&this.state.pager.currentPage===e)){this.props.onNewPageRequest();var t,a=Object(w.a)({},this.props.searchData),r=Object(w.a)({},this.props.searchData);this.setState({searchData:a}),r.page=e,this.setState({searching:!0}),this.props.service(this.props.controller,this.props.action,e).then(a=>{var r=this.state.pager;if(!Array.isArray(a.data)){if(this.setState({totalPages:a.data.pages}),e<1||0!==r.totalPages&&e>r.totalPages)return;r=this.getPager(this.state.totalPages,e),this.setState({pager:r}),setTimeout(()=>{this.setState({searching:!1}),this.props.onChangePage([],r)},1e3)}t=e>2?a.data.orders.map((t,a)=>(t.no=1+a+(e-1)*this.state.pageSize,t)):2===e?a.data.orders.map((e,t)=>(e.no=1+t+this.state.pageSize,e)):a.data.orders.map((e,t)=>(e.no=++t,e)),this.setState({totalPages:a.data.pages}),e<1||0!==r.totalPages&&e>r.totalPages||(r=this.getPager(this.state.totalPages,e),this.setState({pager:r}),setTimeout(()=>{this.setState({searching:!1}),this.props.onChangePage(t,r)},1e3))}).catch(e=>{})}}getPager(e,t,a){var r,s;t=t||1,e<=10?(r=1,s=e):t<=6?(r=1,s=10):t+4>=e?(r=e-9,s=e):(r=t-5,s=t+4);var n=(t-1)*(a=a||this.state.pageSize),i=Math.min(n+a-1,this.state.totalItems-1),o=y.a.range(r,s+1);return{totalItems:this.state.totalItems,currentPage:t,pageSize:a,totalPages:e,startPage:r,endPage:s,startIndex:n,endIndex:i,pages:o}}render(){var e=this.state.pager;return!e.pages||e.pages.length<=1?null:s.a.createElement("ul",{className:"pagination  pull-right m-b-0"},s.a.createElement("li",{className:1===e.currentPage?"page-item disabled hidden-xs":"page-item hidden-xs"},s.a.createElement("a",{onClick:()=>this.setPage(1),className:"page-link"},"First")),s.a.createElement("li",{className:1===e.currentPage?"disabled page-item":"page-item"},s.a.createElement("a",{onClick:()=>this.setPage(e.currentPage-1),className:"page-link"},"Previous")),e.pages.map((t,a)=>s.a.createElement("li",{key:a,className:e.currentPage===t?"active hidden-xs page-item":"hidden-xs page-item"},s.a.createElement("a",{onClick:()=>this.setPage(t),className:"page-link"},t))),s.a.createElement("li",{className:e.currentPage===e.totalPages?"disabled page-item":"page-item"},s.a.createElement("a",{onClick:()=>this.setPage(e.currentPage+1),className:"page-link"},"Next")),s.a.createElement("li",{className:e.currentPage===e.totalPages?"disabled hidden-xs page-item":"hidden-xs page-item"},s.a.createElement("a",{onClick:()=>this.setPage(e.totalPages),className:"page-link"},"Last")))}};var D=Object(f.a)(e=>({root:{flexGrow:1},paper:{padding:e.spacing(5),color:e.palette.text.secondary},confirmButton:{backgroundColor:"#09A6E0",width:"17rem"},OrderNumber:{color:"#1A88B8"},Paid:{color:"#CC7203"}}),{withTheme:!0})(class extends r.Component{constructor(e){super(e),this.sortFunc=(e=>e.sort((e,t)=>{if(void 0===e.Name||null===e.Name)return 0;if(void 0===t.Name||null===t.Name)return 0;var a=e.Name.toUpperCase(),r=t.Name.toUpperCase();return a<r?-1:a>r?1:0})),this.onChangePage=((e,t)=>{this.setState({pageOfItems:null!==e?e:[],pager:t,op:1,disabled:!1,isSearching:!1})}),this.onNewPageRequest=(()=>{console.log("new page request",this.props),this.setState({op:.3})}),this.state={orders:[],currentPage:1,searchData:{},submitData:{},PageSize:10,pageOfItems:[],pager:{},op:1,isSearching:!0,showTable:!1,show:!0}}componentWillMount(){this.setState({searchData:{PageSize:this.state.PageSize}})}formatRows(e){return e.map((e,t)=>({OrderNumber:e.OrderNumber,OrderTime:e.OrderTime,ExpectedDeliveryTime:e.ExpectedDeliveryTime,ItemReviewCount:e.ItemReviewCount,Items:e.Items}))}render(){let e=this.props.classes;return console.log("order in new",this.props),s.a.createElement(s.a.Fragment,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(I,{currentPage:this.state.currentPage,service:this.props.ServiceBase.getActiveOrders,controller:this.props.Constants.ORDERS,action:this.props.Constants.PENDING,onNewPageRequest:this.onNewPageRequest,searchData:this.state.searchData,onChangePage:this.onChangePage}),s.a.createElement("div",{style:{opacity:this.state.op}},s.a.createElement(x,{classes:e,rows:this.state.pageOfItems,isSearching:this.state.isSearching}))))}}),k=a(1395),T=a(167),R=a.n(T);var j=Object(f.a)(e=>({root:{flexGrow:1},paper:{padding:e.spacing(5),color:e.palette.text.secondary},confirmButton:{backgroundColor:"#09A6E0",width:"17rem"},OrderNumber:{color:"#1A88B8"},Paid:{color:"#CC7203"}}),{withTheme:!0})(class extends r.Component{constructor(e){super(e),this.sortFunc=(e=>e.sort((e,t)=>{if(void 0===e.Name||null===e.Name)return 0;if(void 0===t.Name||null===t.Name)return 0;var a=e.Name.toUpperCase(),r=t.Name.toUpperCase();return a<r?-1:a>r?1:0})),this.onChangePage=((e,t)=>{this.setState({pageOfItems:null!==e?e:[],pager:t,op:1,disabled:!1,isSearching:!1})}),this.onNewPageRequest=(()=>{console.log("new page request",this.props),this.setState({op:.3})}),this.confirmItem=(e=>{console.log("itemm",e);const t=this.props.Constants.CONFIRM_ORDER,a={orderNo:e.orderNo};R.a.fire({title:"Are you sure you want to confirm this order",showCancelButton:!0,confirmButtonText:"Confirm",showLoaderOnConfirm:!0,preConfirm:e=>this.props.ServiceBase.confirmOrder(t,a).then(e=>{console.log("response",e.data)}).catch(e=>{R.a.showValidationMessage("Request failed: ".concat(e.response.data.error))}),allowOutsideClick:()=>!R.a.isLoading()}).then(e=>{e.isConfirmed&&R.a.fire({title:"Order Confirmed Successfully"})})}),this.state={orders:[],currentPage:1,searchData:{},submitData:{},PageSize:10,pageOfItems:[],pager:{},op:1,isSearching:!0,showTable:!1,show:!0}}componentWillMount(){this.setState({searchData:{PageSize:this.state.PageSize}})}formatRows(e){return e.map((e,t)=>({OrderNumber:e.OrderNumber,OrderTime:e.OrderTime,ExpectedDeliveryTime:e.ExpectedDeliveryTime,ItemReviewCount:e.ItemReviewCount,Items:e.Items}))}render(){let e=this.props.classes;return console.log("order in completed",this.state.orders),s.a.createElement(s.a.Fragment,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(I,{currentPage:this.state.currentPage,service:this.props.ServiceBase.getCompletedOrders,controller:this.props.Constants.ORDERS,action:this.props.Constants.COMPLETED,onNewPageRequest:this.onNewPageRequest,searchData:this.state.searchData,onChangePage:this.onChangePage}),s.a.createElement("div",{style:{opacity:this.state.op}},s.a.createElement(x,{classes:e,rows:this.state.pageOfItems,isSearching:this.state.isSearching,confirmItem:this.confirmItem}))))}});function A(e){const t=e.children,a=e.value,r=e.index,n=Object(o.a)(e,["children","value","index"]);return s.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==r,id:"scrollable-force-tabpanel-".concat(r),"aria-labelledby":"scrollable-force-tab-".concat(r)},n),a===r&&s.a.createElement(k.a,null,s.a.createElement(P.a,{p:3},t)))}function B(e){return{id:"scrollable-force-tab-".concat(e),"aria-controls":"scrollable-force-tabpanel-".concat(e)}}const F=Object(c.a)(e=>({root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper}}));function z(e){const t=F(),a=e.incomingTab,r=s.a.useState(a),n=Object(i.a)(r,2),o=n[0],c=n[1];return s.a.createElement("div",{className:t.root},s.a.createElement(l.a,{position:"static",color:"default"},s.a.createElement(m.a,{value:o,onChange:(e,t)=>{c(t)},variant:"fullWidth",scrollButtons:"on",indicatorColor:"primary",textColor:"primary","aria-label":"Orders categories"},s.a.createElement(p.a,Object.assign({label:"New Orders",icon:s.a.createElement(b.a,null)},B(0))),s.a.createElement(p.a,Object.assign({label:"Active Orders",icon:s.a.createElement(h.a,null)},B(1))),s.a.createElement(p.a,Object.assign({label:"Completed Orders",icon:s.a.createElement(d.a,null)},B(2))))),s.a.createElement(A,{value:o,index:0},s.a.createElement(D,e)),s.a.createElement(A,{value:o,index:1},"Active Orders"),s.a.createElement(A,{value:o,index:2},s.a.createElement(j,e)))}t.default=class extends s.a.Component{constructor(e){super(e),this.state={orders:[],searchData:{},submitData:{},PageSize:10,pageOfItems:[],pager:{},op:1,isSearching:!1,showTable:!1,show:!0}}render(){const e=this.props.location.state&&this.props.location.state.tab||0;return s.a.createElement("div",{className:"m-sm-30"},s.a.createElement("div",{className:"mb-sm-30"},s.a.createElement(n.a,{routeSegments:[{name:"Home",path:"/app/dashboard"},{name:"Orders"}]})),s.a.createElement(n.h,null,s.a.createElement(z,Object.assign({incomingTab:e},this.props))))}}}}]);
//# sourceMappingURL=13.2d234bb8.chunk.js.map